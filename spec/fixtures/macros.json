{
  "source": "macro upcase_getter(name)\n  def {{ name.id }}\n    @{{ name.id }}.upcase\n  end\nend\n\nclass Person\n  upcase_getter name\n\n  def initialize(@name : String)\n  end\nend\n\nperson = Person.new \"John\"\nperson.name # => \"JOHN\"\n",
  "text": "macro upcase_getter(name)\n  def {{ name.id }}\n    @{{ name.id }}.upcase\n  end\nend\n\nclass Person\n  upcase_getter(name)\n\n  def initialize(name : String)\n    @name = name\n  end\nend\n\nperson = Person.new(\"John\")\nperson.name\n",
  "ast": {
    "type": "Expressions",
    "location": {
      "start_line": 1,
      "start_column": 0,
      "end_line": 15,
      "end_column": 10
    },
    "value": "None",
    "children": [
      {
        "type": "Macro",
        "location": {
          "start_line": 1,
          "start_column": 0,
          "end_line": 5,
          "end_column": 2
        },
        "name": "upcase_getter",
        "children": [
          {
            "type": "Arg",
            "location": {
              "start_line": 1,
              "start_column": 20,
              "end_line": 1,
              "end_column": 20
            },
            "name": "name"
          },
          {
            "type": "Expressions",
            "location": {
              "start_line": 2,
              "start_column": 0,
              "end_line": 5,
              "end_column": 0
            },
            "value": "None",
            "children": [
              {
                "type": "MacroLiteral",
                "location": {
                  "start_line": 2,
                  "start_column": 0,
                  "end_line": 2,
                  "end_column": 5
                },
                "value": "def"
              },
              {
                "type": "MacroExpression",
                "location": {
                  "start_line": 2,
                  "start_column": 6,
                  "end_line": 2,
                  "end_column": 18
                },
                "value": "{{}}",
                "children": [
                  {
                    "type": "Call",
                    "location": {
                      "start_line": 2,
                      "start_column": 9,
                      "end_line": 2,
                      "end_column": 15
                    },
                    "name": "id",
                    "children": [
                      {
                        "type": "Var",
                        "location": {
                          "start_line": 2,
                          "start_column": 9,
                          "end_line": 2,
                          "end_column": 12
                        },
                        "name": "name"
                      }
                    ]
                  }
                ]
              },
              {
                "type": "MacroLiteral",
                "location": {
                  "start_line": 2,
                  "start_column": 19,
                  "end_line": 3,
                  "end_column": 4
                },
                "value": "@"
              },
              {
                "type": "MacroExpression",
                "location": {
                  "start_line": 3,
                  "start_column": 5,
                  "end_line": 3,
                  "end_column": 17
                },
                "value": "{{}}",
                "children": [
                  {
                    "type": "Call",
                    "location": {
                      "start_line": 3,
                      "start_column": 8,
                      "end_line": 3,
                      "end_column": 14
                    },
                    "name": "id",
                    "children": [
                      {
                        "type": "Var",
                        "location": {
                          "start_line": 3,
                          "start_column": 8,
                          "end_line": 3,
                          "end_column": 11
                        },
                        "name": "name"
                      }
                    ]
                  }
                ]
              },
              {
                "type": "MacroLiteral",
                "location": {
                  "start_line": 3,
                  "start_column": 18,
                  "end_line": 4,
                  "end_column": 1
                },
                "value": ".upcase"
              },
              {
                "type": "MacroLiteral",
                "location": {
                  "start_line": 4,
                  "start_column": 2,
                  "end_line": 5,
                  "end_column": 0
                },
                "value": "end"
              }
            ]
          }
        ]
      },
      {
        "type": "ClassDef",
        "location": {
          "start_line": 7,
          "start_column": 0,
          "end_line": 12,
          "end_column": 2
        },
        "name": "Person",
        "children": [
          {
            "type": "Expressions",
            "location": {
              "start_line": 8,
              "start_column": 2,
              "end_line": 11,
              "end_column": 4
            },
            "value": "None",
            "children": [
              {
                "type": "Call",
                "location": {
                  "start_line": 8,
                  "start_column": 2,
                  "end_line": 8,
                  "end_column": 19
                },
                "name": "upcase_getter",
                "children": [
                  {
                    "type": "Call",
                    "location": {
                      "start_line": 8,
                      "start_column": 16,
                      "end_line": 8,
                      "end_column": 19
                    },
                    "name": "name"
                  }
                ]
              },
              {
                "type": "Def",
                "location": {
                  "start_line": 10,
                  "start_column": 2,
                  "end_line": 11,
                  "end_column": 4
                },
                "name": "initialize",
                "children": [
                  {
                    "type": "Arg",
                    "location": {
                      "start_line": 10,
                      "start_column": 17,
                      "end_line": 10,
                      "end_column": 17
                    },
                    "name": "name",
                    "children": [
                      {
                        "type": "Path",
                        "location": {
                          "start_line": 10,
                          "start_column": 25,
                          "end_line": 10,
                          "end_column": 30
                        },
                        "name": "String"
                      }
                    ]
                  },
                  {
                    "type": "Assign",
                    "location": {
                      "start_line": 11,
                      "start_column": 2,
                      "end_line": 11,
                      "end_column": 2
                    },
                    "value": "=",
                    "children": [
                      {
                        "type": "InstanceVar",
                        "location": {
                          "start_line": 10,
                          "start_column": 17,
                          "end_line": 10,
                          "end_column": 17
                        },
                        "name": "@name"
                      },
                      {
                        "type": "Var",
                        "location": {
                          "start_line": 10,
                          "start_column": 17,
                          "end_line": 10,
                          "end_column": 17
                        },
                        "name": "name"
                      }
                    ]
                  }
                ]
              }
            ]
          }
        ]
      },
      {
        "type": "Assign",
        "location": {
          "start_line": 14,
          "start_column": 0,
          "end_line": 14,
          "end_column": 25
        },
        "value": "=",
        "children": [
          {
            "type": "Var",
            "location": {
              "start_line": 14,
              "start_column": 0,
              "end_line": 14,
              "end_column": 5
            },
            "name": "person"
          },
          {
            "type": "Call",
            "location": {
              "start_line": 14,
              "start_column": 9,
              "end_line": 14,
              "end_column": 25
            },
            "name": "new",
            "children": [
              {
                "type": "Path",
                "location": {
                  "start_line": 14,
                  "start_column": 9,
                  "end_line": 14,
                  "end_column": 14
                },
                "name": "Person"
              },
              {
                "type": "StringLiteral",
                "location": {
                  "start_line": 14,
                  "start_column": 20,
                  "end_line": 14,
                  "end_column": 25
                },
                "value": "John"
              }
            ]
          }
        ]
      },
      {
        "type": "Call",
        "location": {
          "start_line": 15,
          "start_column": 0,
          "end_line": 15,
          "end_column": 10
        },
        "name": "name",
        "children": [
          {
            "type": "Var",
            "location": {
              "start_line": 15,
              "start_column": 0,
              "end_line": 15,
              "end_column": 5
            },
            "name": "person"
          }
        ]
      }
    ]
  },
  "errors": []
}
